!function(t){function e(a){if(i[a])return i[a].exports;var o=i[a]={exports:{},id:a,loaded:!1};return t[a].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="/dist/",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){"use strict";!function(){return AFRAME?(AFRAME.ASSETS_PATH||(AFRAME.ASSETS_PATH="./assets"),i(2),i(3),i(13),i(14),i(17),i(18),i(21),void i(24)):console.error("AFRAME is required!")}()},function(t,e){!function(t){function e(a){if(i[a])return i[a].exports;var o=i[a]={exports:{},id:a,loaded:!1};return t[a].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e){AFRAME.registerComponent("rounded",{schema:{enabled:{default:!0},width:{type:"number",default:1},height:{type:"number",default:1},radius:{type:"number",default:.3},topLeftRadius:{type:"number",default:-1},topRightRadius:{type:"number",default:-1},bottomLeftRadius:{type:"number",default:-1},bottomRightRadius:{type:"number",default:-1},color:{type:"color",default:"#F0F0F0"},opacity:{type:"number",default:1}},init:function(){this.rounded=new THREE.Mesh(this.draw(),new THREE.MeshPhongMaterial({color:new THREE.Color(this.data.color),side:THREE.DoubleSide})),this.updateOpacity(),this.el.setObject3D("mesh",this.rounded)},update:function(){this.data.enabled?this.rounded&&(this.rounded.visible=!0,this.rounded.geometry=this.draw(),this.rounded.material.color=new THREE.Color(this.data.color),this.updateOpacity()):this.rounded.visible=!1},updateOpacity:function(){this.data.opacity<0&&(this.data.opacity=0),this.data.opacity>1&&(this.data.opacity=1),this.data.opacity<1?this.rounded.material.transparent=!0:this.rounded.material.transparent=!1,this.rounded.material.opacity=this.data.opacity},tick:function(){},remove:function(){this.rounded&&(this.el.object3D.remove(this.rounded),this.rounded=null)},draw:function(){function t(t,e,i,a,o,s,n,r,l){s||(s=1e-5),n||(n=1e-5),r||(r=1e-5),l||(l=1e-5),t.moveTo(e,i+s),t.lineTo(e,i+o-s),t.quadraticCurveTo(e,i+o,e+s,i+o),t.lineTo(e+a-n,i+o),t.quadraticCurveTo(e+a,i+o,e+a,i+o-n),t.lineTo(e+a,i+l),t.quadraticCurveTo(e+a,i,e+a-l,i),t.lineTo(e+r,i),t.quadraticCurveTo(e,i,e,i+r)}var e=new THREE.Shape,i=[this.data.radius,this.data.radius,this.data.radius,this.data.radius];return this.data.topLeftRadius!=-1&&(i[0]=this.data.topLeftRadius),this.data.topRightRadius!=-1&&(i[1]=this.data.topRightRadius),this.data.bottomLeftRadius!=-1&&(i[2]=this.data.bottomLeftRadius),this.data.bottomRightRadius!=-1&&(i[3]=this.data.bottomRightRadius),t(e,0,0,this.data.width,this.data.height,i[0],i[1],i[2],i[3]),new THREE.ShapeBufferGeometry(e)},pause:function(){},play:function(){}}),AFRAME.registerPrimitive("a-rounded",{defaultComponents:{rounded:{}},mappings:{enabled:"rounded.enabled",width:"rounded.width",height:"rounded.height",radius:"rounded.radius","top-left-radius":"rounded.topLeftRadius","top-right-radius":"rounded.topRightRadius","bottom-left-radius":"rounded.bottomLeftRadius","bottom-right-radius":"rounded.bottomRightRadius",color:"rounded.color",opacity:"rounded.opacity"}})}])},function(t,e,i){"use strict";var a=(i(4),i(5)),o=i(9),s=i(11),n=i(10);AFRAME.registerComponent("keyboard",{schema:{isOpen:{type:"boolean",default:!1},physicalKeyboard:{type:"boolean",default:!1}},currentInput:null,init:function(){var t=this;s.init(this.el),a.init(this.el);var e=a.numericalUI(),i=a.mainUI(),n=a.actionsUI();this.el.alphabeticalLayout=a.alphabeticalLayout(),this.el.symbolsLayout=a.symbolsLayout(),e.appendChild(a.numericalLayout()),i.appendChild(this.el.alphabeticalLayout),n.appendChild(a.actionsLayout()),this.el.appendChild(e),this.el.appendChild(i),this.el.appendChild(n),this.el.show=function(){o.showKeyboard(t.el)},this.el.hide=function(){o.hideKeyboard(t.el)},this.el.open=function(){o.openKeyboard(t.el)},this.el.dismiss=function(){o.dismissKeyboard(t.el)},this.el.destroy=function(){o.destroyKeyboard(t.el)},this.inputEvent=this.inputEvent.bind(this),this.backspaceEvent=this.backspaceEvent.bind(this),this.dismissEvent=this.dismissEvent.bind(this),this.keydownEvent=this.keydownEvent.bind(this),this.didFocusInputEvent=this.didFocusInputEvent.bind(this),this.didBlurInputEvent=this.didBlurInputEvent.bind(this),this.el.setAttribute("scale","2 2 2"),this.el.setAttribute("rotation","-20 0 0"),this.el.setAttribute("position","-1.5 -0.3 -2"),this.el.addEventListener("input",this.inputEvent),this.el.addEventListener("backspace",this.backspaceEvent),this.el.addEventListener("dismiss",this.dismissEvent),document.addEventListener("keydown",this.keydownEvent),document.body.addEventListener("didfocusinput",this.didFocusInputEvent),document.body.addEventListener("didblurinput",this.didBlurInputEvent)},update:function(){this.data.isOpen?o.showKeyboard(this.el):o.hideKeyboard(this.el)},tick:function(){},remove:function(){this.el.removeEventListener("input",this.inputEvent),this.el.removeEventListener("backspace",this.backspaceEvent),this.el.removeEventListener("dismiss",this.dismissEvent),document.removeEventListener("keydown",this.keydownEvent),document.body.removeEventListener("didfocusinput",this.didFocusInputEvent),document.body.removeEventListener("didblurinput",this.didBlurInputEvent)},inputEvent:function(t){this.currentInput&&this.currentInput.appendString(t.detail)},backspaceEvent:function(t){this.currentInput&&this.currentInput.deleteLast()},dismissEvent:function(t){this.currentInput&&this.currentInput.blur()},keydownEvent:function(t){this.currentInput&&this.data.physicalKeyboard&&(t.preventDefault(),t.stopPropagation(),"Enter"===t.key?(n.emit(o.el,"input","\n"),n.emit(o.el,"enter","\n")):"Backspace"===t.key?n.emit(o.el,"backspace"):"Escape"===t.key?n.emit(o.el,"dismiss"):t.key.length<2&&n.emit(o.el,"input",t.key))},didFocusInputEvent:function(t){this.currentInput&&this.currentInput.blur(!0),this.currentInput=t.detail,this.el.isOpen||o.openKeyboard(this.el)},didBlurInputEvent:function(t){this.currentInput=null,o.dismissKeyboard(this.el)}}),AFRAME.registerPrimitive("a-keyboard",{defaultComponents:{keyboard:{}},mappings:{"is-open":"keyboard.isOpen","physical-keyboard":"keyboard.physicalKeyboard"}})},function(t,e){"use strict";var i={};i.preloadAssets=function(t){var e=document.querySelector("a-assets"),i=void 0;if(!e){var a=document.querySelector("a-scene");e=document.createElement("a-assets"),a.appendChild(e)}var o=!0,s=!1,n=void 0;try{for(var r,l=t[Symbol.iterator]();!(o=(r=l.next()).done);o=!0){var u=r.value;i=!1;var d=!0,c=!1,h=void 0;try{for(var p,b=Array.from(e.children)[Symbol.iterator]();!(d=(p=b.next()).done);d=!0){var y=p.value;u.id===y.id&&(i=!0)}}catch(t){c=!0,h=t}finally{try{!d&&b.return&&b.return()}finally{if(c)throw h}}if(!i){var f=document.createElement(u.type);f.setAttribute("id",u.id),f.setAttribute("src",u.src),e.appendChild(f)}}}catch(t){s=!0,n=t}finally{try{!o&&l.return&&l.return()}finally{if(s)throw n}}},i.extend=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},i.clone=function(t){if(Array.isArray(t))return t.slice(0);var e=Object.create(Object.getPrototypeOf(t)),i=void 0,a=Object.getOwnPropertyNames(t);for(i=0;i<a.length;)Object.defineProperty(e,a[i],Object.getOwnPropertyDescriptor(t,a[i])),i++;return e},i.updateOpacity=function(t,e){if(t.hasAttribute("text")){var i=t.getAttribute("text");i&&(i.opacity=e,t.setAttribute("text",i))}t.object3D.traverse(function(t){t.material&&(t.material.transparent=!0,t.material.opacity=e)});var a=!0,o=!1,s=void 0;try{for(var n,r=t.querySelectorAll("a-text")[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var l=n.value;l.setAttribute("opacity",e)}}catch(t){o=!0,s=t}finally{try{!a&&r.return&&r.return()}finally{if(o)throw s}}},i.getWidthFactor=function(t,e){var i=1e-5;return t.components.text&&t.components.text.currentFont&&(i=t.components.text.currentFont.widthFactor,i*=.5+e),i},t.exports=i},function(t,e,i){"use strict";var a=i(6),o=i(7),s=i(8),n=i(9),r={};r.el=null,r.init=function(t){r.el=t,n.el=t,n.SFX=t.SFX},r.numericalUI=function(){var t=document.createElement("a-entity");t.setAttribute("position","0.025 0 0.12"),t.setAttribute("rotation","0 25 0"),t.setAttribute("data-ui",!0);var e=document.createElement("a-rounded");return e.setAttribute("width","0.280"),e.setAttribute("height","0.360"),e.setAttribute("radius","0.02"),e.setAttribute("color",s.KEYBOARD_COLOR),t.appendChild(e),t},r.mainUI=function(){var t=document.createElement("a-entity");t.setAttribute("position","0.312 0 0"),t.setAttribute("data-ui",!0);var e=document.createElement("a-rounded");return e.setAttribute("width","0.840"),e.setAttribute("height","0.360"),e.setAttribute("radius","0.02"),e.setAttribute("color",s.KEYBOARD_COLOR),t.appendChild(e),t},r.actionsUI=function(){var t=document.createElement("a-entity");t.setAttribute("position","1.180 0 0.01"),t.setAttribute("rotation","0 -25 0"),t.setAttribute("data-ui",!0);var e=document.createElement("a-rounded");return e.setAttribute("width","0.180"),e.setAttribute("height","0.360"),e.setAttribute("radius","0.02"),e.setAttribute("color",s.KEYBOARD_COLOR),t.appendChild(e),t},r.numericalLayout=function(){var t=o.numerical,e=document.createElement("a-entity");e.setAttribute("position","0.02 0.26 0.001");var i=0;for(var a in t){var n="num-"+a,l=r.key(n,t[a].type,t[a].value),u=a%3,d=s.KEY_WIDTH*u,c=s.KEY_WIDTH*i;l.setAttribute("position",d+" -"+c+" 0"),2===u&&i++,e.appendChild(l)}return e},r.alphabeticalLayout=function(){var t=o.alphabetical,e=document.createElement("a-entity");e.setAttribute("position","0.02 0.26 0.001");var i=0,a=0,n=!1;for(var l in t){var u="main-"+l,d=r.key(u,t[l].type,t[l].value),c=s.KEY_WIDTH*a,h=s.KEY_WIDTH*i;1===i&&(c+=s.KEY_WIDTH/2),n&&(c=c+s.SPACE_KEY_WIDTH-s.KEY_WIDTH+.11),"spacebar"===t[l].type&&(n=!0,c+=.055,h=s.KEY_WIDTH*i-.01),d.setAttribute("position",c+" -"+h+" 0"),1===i&&8===a?(a=-1,i++):9===a&&(a=-1,i++),a++,e.appendChild(d)}return e},r.symbolsLayout=function(){var t=o.symbols,e=document.createElement("a-entity");e.setAttribute("position","0.02 0.26 0.001");var i=0,a=0,n=!1;for(var l in t){var u="symbols-"+l,d=r.key(u,t[l].type,t[l].value),c=s.KEY_WIDTH*a,h=s.KEY_WIDTH*i;n&&(c=c+s.SPACE_KEY_WIDTH-s.KEY_WIDTH+.11),"spacebar"===t[l].type&&(n=!0,c+=.055,h=s.KEY_WIDTH*i-.01),d.setAttribute("position",c+" -"+h+" 0"),9===a&&(a=-1,i++),a++,e.appendChild(d)}return e},r.actionsLayout=function(){var t=o.actions,e=document.createElement("a-entity");e.setAttribute("position","0.02 0.26 0.001");var i=0;for(var a in t){var n="action-"+a,l=r.key(n,t[a].type,t[a].value);l.setAttribute("position","0 -"+i+" 0"),0==a?i+=s.ACTION_WIDTH+.01:1==a&&(i+=s.KEY_WIDTH+.01),e.appendChild(l)}return e},r.key=function(t,e,i){var o=document.createElement("a-rounded");if(o.setAttribute("key-id",t),o.setAttribute("width",s.KEY_WIDTH),o.setAttribute("height",s.KEY_WIDTH),o.setAttribute("radius","0.008"),o.setAttribute("position","0 0 0"),o.setAttribute("key-type",e),o.setAttribute("key-value",i),o.setAttribute("color",s.KEYBOARD_COLOR),n.addKeyEvents(o),o.shadow_el=document.createElement("a-image"),o.shadow_el.setAttribute("width",1.25*s.KEY_WIDTH),o.shadow_el.setAttribute("height",1.25*s.KEY_WIDTH),o.shadow_el.setAttribute("position",s.KEY_WIDTH/2+" "+s.KEY_WIDTH/2+" -0.002"),o.shadow_el.setAttribute("src",a.aframeKeyboardShadow),o.appendChild(o.shadow_el),"text"===e||"spacebar"===e||"symbol"===e){var l=document.createElement("a-text");l.setAttribute("value",i),l.setAttribute("color","#dbddde"),l.setAttribute("position",s.KEY_WIDTH/2+" "+s.KEY_WIDTH/2+" 0.01"),l.setAttribute("scale","0.16 0.16 0.16"),l.setAttribute("align","center"),l.setAttribute("baseline","center"),o.appendChild(l)}if("spacebar"===e?(o.setAttribute("width",s.SPACE_KEY_WIDTH),o.setAttribute("height",s.SPACE_KEY_HEIGHT),o.setAttribute("color","#404b50"),o.shadow_el.setAttribute("width",1.12*s.SPACE_KEY_WIDTH),o.shadow_el.setAttribute("height",1.2*s.SPACE_KEY_HEIGHT),o.shadow_el.setAttribute("position",s.SPACE_KEY_WIDTH/2+" "+s.SPACE_KEY_HEIGHT/2+" -0.02"),l.setAttribute("color","#adb1b3"),l.setAttribute("scale","0.12 0.12 0.12"),l.setAttribute("position",s.SPACE_KEY_WIDTH/2+" "+s.SPACE_KEY_HEIGHT/2+" 0")):"symbol"===e&&l.setAttribute("scale","0.12 0.12 0.12"),"backspace"!==e&&"enter"!==e&&"dismiss"!==e||(o.setAttribute("width",s.ACTION_WIDTH),o.shadow_el.setAttribute("width",1.25*s.ACTION_WIDTH),o.shadow_el.setAttribute("position",s.ACTION_WIDTH/2+" "+s.KEY_WIDTH/2+" -0.02")),"shift"===e){var u=document.createElement("a-image");u.setAttribute("data-type","icon"),u.setAttribute("width","0.032"),u.setAttribute("height","0.032"),u.setAttribute("position","0.04 0.04 0.01"),u.setAttribute("src",a.aframeKeyboardShift),o.appendChild(u),r.el.shiftKey=o}else if("global"===e){var u=document.createElement("a-image");u.setAttribute("width","0.032"),u.setAttribute("height","0.032"),u.setAttribute("position","0.04 0.04 0.01"),u.setAttribute("src",a.aframeKeyboardGlobal),o.appendChild(u)}else if("backspace"===e){var u=document.createElement("a-image");u.setAttribute("width","0.046"),u.setAttribute("height","0.046"),u.setAttribute("position","0.07 0.04 0.01"),u.setAttribute("src",a.aframeKeyboardBackspace),o.appendChild(u)}else if("enter"===e){o.setAttribute("height",s.ACTION_WIDTH),o.shadow_el.setAttribute("height",1.25*s.ACTION_WIDTH),o.shadow_el.setAttribute("position",s.ACTION_WIDTH/2+" "+s.ACTION_WIDTH/2+" -0.02");var d=document.createElement("a-circle");d.setAttribute("color","#4285f4"),d.setAttribute("radius",.044),d.setAttribute("position","0.07 0.07 0.01"),o.appendChild(d);var u=document.createElement("a-image");u.setAttribute("width","0.034"),u.setAttribute("height","0.034"),u.setAttribute("position","0.07 0.07 0.011"),u.setAttribute("src",a.aframeKeyboardEnter),o.appendChild(u)}else if("dismiss"===e){var u=document.createElement("a-image");u.setAttribute("width","0.046"),u.setAttribute("height","0.046"),u.setAttribute("position","0.07 0.04 0.01"),u.setAttribute("src",a.aframeKeyboardDismiss),o.appendChild(u)}return o},t.exports=r},function(t,e){"use strict";t.exports={aframeKeyboardShift:AFRAME.ASSETS_PATH+"/images/ShiftIcon.png",aframeKeyboardShiftActive:AFRAME.ASSETS_PATH+"/images/ShiftActiveIcon.png",aframeKeyboardGlobal:AFRAME.ASSETS_PATH+"/images/GlobalIcon.png",aframeKeyboardBackspace:AFRAME.ASSETS_PATH+"/images/BackspaceIcon.png",aframeKeyboardEnter:AFRAME.ASSETS_PATH+"/images/EnterIcon.png",aframeKeyboardDismiss:AFRAME.ASSETS_PATH+"/images/DismissIcon.png",aframeKeyboardShadow:AFRAME.ASSETS_PATH+"/images/KeyShadow.png",aframeKeyboardKeyIn:AFRAME.ASSETS_PATH+"/sounds/KeyIn.mp3",aframeKeyboardKeyDown:AFRAME.ASSETS_PATH+"/sounds/KeyDown.mp3"}},function(t,e){"use strict";var i={numerical:[{type:"text",value:"1"},{type:"text",value:"2"},{type:"text",value:"3"},{type:"text",value:"4"},{type:"text",value:"5"},{type:"text",value:"6"},{type:"text",value:"7"},{type:"text",value:"8"},{type:"text",value:"9"},{type:"text",value:"."},{type:"text",value:"0"},{type:"text",value:"-"}],alphabetical:[{type:"text",value:"q"},{type:"text",value:"w"},{type:"text",value:"e"},{type:"text",value:"r"},{type:"text",value:"t"},{type:"text",value:"y"},{type:"text",value:"u"},{type:"text",value:"i"},{type:"text",value:"o"},{type:"text",value:"p"},{type:"text",value:"a"},{type:"text",value:"s"},{type:"text",value:"d"},{type:"text",value:"f"},{type:"text",value:"g"},{type:"text",value:"h"},{type:"text",value:"j"},{type:"text",value:"k"},{type:"text",value:"l"},{type:"shift"},{type:"text",value:"z"},{type:"text",value:"x"},{type:"text",value:"c"},{type:"text",value:"v"},{type:"text",value:"b"},{type:"text",value:"n"},{type:"text",value:"m"},{type:"text",value:"!"},{type:"text",value:"?"},{type:"symbol",value:"#+="},{type:"text",value:"@"},{type:"spacebar",value:""},{type:"text",value:","},{type:"text",value:"."}],symbols:[{type:"text",value:"@"},{type:"text",value:"#"},{type:"text",value:"$"},{type:"text",value:"%"},{type:"text",value:"&"},{type:"text",value:"*"},{type:"text",value:"-"},{type:"text",value:"+"},{type:"text",value:"("},{type:"text",value:")"},{type:"text",value:"~"},{type:"text",value:"`"},{type:"text",value:'"'},{type:"text",value:"'"},{type:"text",value:":"},{type:"text",value:";"},{type:"text",value:"_"},{type:"text",value:"="},{type:"text",value:"\\"},{type:"text",value:"/"},{type:"text",value:"{"},{type:"text",value:"}"},{type:"text",value:"["},{type:"text",value:"]"},{type:"text",value:"<"},{type:"text",value:">"},{type:"text",value:"^"},{type:"text",value:"|"},{type:"text",value:"!"},{type:"text",value:"?"},{type:"symbol",value:"ABC"},{type:"text",value:"@"},{type:"spacebar",value:""},{type:"text",value:","},{type:"text",value:"."}],actions:[{type:"backspace",value:"Del"},{type:"enter",value:"OK"},{type:"dismiss",value:"W"}]};t.exports=i},function(t,e){"use strict";var i={KEYBOARD_COLOR:"#263238",KEY_COLOR_HIGHLIGHT:"#29363c",KEY_COLOR_ACTIVE:"#404b50",SPACEBAR_COLOR_ACTIVE:"#3c464b",SPACEBAR_COLOR_HIGHLIGHT:"#445055",KEY_WIDTH:.08,SPACE_KEY_WIDTH:.368,SPACE_KEY_HEIGHT:.05,ACTION_WIDTH:.14};t.exports=i},function(t,e,i){"use strict";var a=i(6),o=i(8),s=i(4),n=i(10),r=i(11),l={};l.el=null,l.showKeyboard=function(t){t.isOpen=!0;var e=t.object3D.position;console.log("show keyboard position"),console.log(e.x),console.log(e.y),console.log(e.z),e.x===-1e4&&e.y===-1e4&&e.z===-1e4&&t.object3D.position.set(0,0,0),!t.parentNode&&t.sceneEl.appendChild(t)},l.hideKeyboard=function(t){t.isOpen=!1,t.object3D.position.set(-1e4,-1e4,-1e4)},l.destroyKeyboard=function(t){var e=t.parentNode;e&&e&&e.removeChild(t)},l.openKeyboard=function(t){l.showKeyboard(t),n.emit(l.el,"didopen")},l.dismissKeyboard=function(t){l.hideKeyboard(t),n.emit(l.el,"diddismiss")},l.addKeyEvents=function(t){t.addEventListener("click",l.keyClick),t.addEventListener("mousedown",l.keyDown),t.addEventListener("mouseup",l.keyOut),t.addEventListener("raycaster-intersected",l.keyIn),t.addEventListener("raycaster-intersected-cleared",l.keyOut)},l.keyClick=function(){r.keyDown(l.el);var t=this.getAttribute("key-type"),e=this.getAttribute("key-value");"text"===t||"spacebar"===t?("spacebar"===t&&(e=" "),l.isShiftEnabled?(e=e.toUpperCase(),l.shiftToggle()):l.isSymbols&&l.symbolsToggle(),n.emit(l.el,"input",e)):"shift"===t?l.shiftToggle():"symbol"===t?l.symbolsToggle():"backspace"===t?n.emit(l.el,"backspace"):"enter"===t?(n.emit(l.el,"input","\n"),n.emit(l.el,"enter","\n")):"dismiss"===t&&n.emit(l.el,"dismiss")},l.keyDown=function(){this.object3D.position.z=.003,"spacebar"===this.getAttribute("key-type")?this.setAttribute("color",o.SPACEBAR_COLOR_ACTIVE):this.setAttribute("color",o.KEY_COLOR_ACTIVE)},l.keyIn=function(){this.object3D.children[2]&&this.object3D.children[2].material&&!this.object3D.children[2].material.opacity||(r.keyIn(l.el),"spacebar"===this.getAttribute("key-type")?this.setAttribute("color",o.SPACEBAR_COLOR_HIGHLIGHT):this.setAttribute("color",o.KEY_COLOR_HIGHLIGHT))},l.keyOut=function(){this.object3D.position.z=0,"spacebar"===this.getAttribute("key-type")?this.setAttribute("color",o.KEY_COLOR_ACTIVE):this.setAttribute("color",o.KEYBOARD_COLOR)},l.isShiftEnabled=!1,l.shiftToggle=function(){l.isShiftEnabled=!l.isShiftEnabled;var t=l.el.shiftKey.querySelector("[data-type]");l.isShiftEnabled?t.setAttribute("src",a.aframeKeyboardShiftActive):t.setAttribute("src",a.aframeKeyboardShift);var e=!0,i=!1,o=void 0;try{for(var s,n=document.querySelectorAll("[key-id]")[Symbol.iterator]();!(e=(s=n.next()).done);e=!0){var r=s.value,u=r.getAttribute("key-id"),d=r.getAttribute("key-type");if(u.startsWith("main-")&&"text"===d){var c=r.querySelector("a-text");if(c){var h=c.getAttribute("value").toLowerCase();this.isShiftEnabled&&(h=h.toUpperCase()),c.setAttribute("value",h)}}}}catch(t){i=!0,o=t}finally{try{!e&&n.return&&n.return()}finally{if(i)throw o}}},l.isSymbols=!1,l.symbolsToggle=function(){if(l.isSymbols=!l.isSymbols,l.isSymbols){var t=l.el.alphabeticalLayout.parentNode;t.removeChild(l.el.alphabeticalLayout),t.appendChild(l.el.symbolsLayout)}else{var e=l.el.symbolsLayout.parentNode;e.removeChild(l.el.symbolsLayout),e.appendChild(l.el.alphabeticalLayout),setTimeout(function(){s.updateOpacity(l.el.alphabeticalLayout,1)},0)}},t.exports=l},function(t,e){"use strict";t.exports={emit:function(t,e,i){t.dispatchEvent(new CustomEvent(e,{detail:i}))}}},function(t,e,i){"use strict";var a=i(12),o={init:function(t){var e=document.createElement("a-sound");e.setAttribute("key","aframeKeyboardKeyInSound"),e.setAttribute("sfx",!0),e.setAttribute("src",a.aframeKeyboardKeyIn),e.setAttribute("position","0 2 5"),t.appendChild(e),e=document.createElement("a-sound"),e.setAttribute("key","aframeKeyboardKeyDownSound"),e.setAttribute("sfx",!0),e.setAttribute("src",a.aframeKeyboardKeyDown),e.setAttribute("position","0 2 5"),t.appendChild(e)},keyIn:function(t){var e=t.querySelector("[key=aframeKeyboardKeyInSound]");e&&(e.components.sound.stopSound(),e.components.sound.playSound())},keyDown:function(t){var e=t.querySelector("[key=aframeKeyboardKeyDownSound]");e&&(e.components.sound.stopSound(),e.components.sound.playSound())}};t.exports=o},function(t,e){"use strict";t.exports={aframeKeyboardShift:AFRAME.ASSETS_PATH+"/images/ShiftIcon.png",aframeKeyboardShiftActive:AFRAME.ASSETS_PATH+"/images/ShiftActiveIcon.png",aframeKeyboardGlobal:AFRAME.ASSETS_PATH+"/images/GlobalIcon.png",aframeKeyboardBackspace:AFRAME.ASSETS_PATH+"/images/BackspaceIcon.png",aframeKeyboardEnter:AFRAME.ASSETS_PATH+"/images/EnterIcon.png",aframeKeyboardDismiss:AFRAME.ASSETS_PATH+"/images/DismissIcon.png",aframeKeyboardShadow:AFRAME.ASSETS_PATH+"/images/KeyShadow.png",aframeKeyboardKeyIn:AFRAME.ASSETS_PATH+"/sounds/KeyIn.mp3",aframeKeyboardKeyDown:AFRAME.ASSETS_PATH+"/sounds/KeyDown.mp3"}},function(t,e,i){"use strict";var a=i(4),o=i(10);AFRAME.registerComponent("input",{schema:{value:{type:"string",default:""},name:{type:"string",default:""},disabled:{type:"boolean",default:!1},color:{type:"color",default:"#000"},align:{type:"string",default:"left"},font:{type:"string",default:""},letterSpacing:{type:"int",default:0},lineHeight:{type:"string",default:""},opacity:{type:"number",default:1},side:{type:"string",default:"front"},tabSize:{type:"int",default:4},placeholder:{type:"string",default:""},placeholderColor:{type:"color",default:"#AAA"},maxLength:{type:"int",default:0},type:{type:"string",default:"text"},width:{type:"number",default:1},cursorWidth:{type:"number",default:.01},cursorHeight:{type:"number",default:.08},cursorColor:{type:"color",default:"#007AFF"},backgroundColor:{type:"color",default:"#FFF"},backgroundOpacity:{type:"number",default:1}},init:function(){var t=this;this.background=document.createElement("a-rounded"),this.background.setAttribute("radius",.01),this.background.setAttribute("height",.18),this.background.setAttribute("side","double"),this.el.appendChild(this.background),this.cursor=document.createElement("a-plane"),this.cursor.setAttribute("position","0 0 0.003"),this.cursor.setAttribute("visible",!1),this.el.appendChild(this.cursor),this.text=document.createElement("a-entity"),this.el.appendChild(this.text),this.placeholder=document.createElement("a-entity"),this.placeholder.setAttribute("visible",!1),this.el.appendChild(this.placeholder),this.el.focus=this.focus.bind(this),this.el.blur=this.blur.bind(this),this.el.appendString=this.appendString.bind(this),this.el.deleteLast=this.deleteLast.bind(this),this.blink(),this.el.addEventListener("click",function(){this.components.input.data.disabled||t.focus()}),Object.defineProperty(this.el,"value",{get:function(){return this.getAttribute("value")},set:function(t){this.setAttribute("value",t)},enumerable:!0,configurable:!0})},blink:function(){var t=this;return this.isFocused?void(this.cursorInterval=setInterval(function(){t.cursor.setAttribute("visible",!t.cursor.getAttribute("visible"))},500)):(t.cursor.setAttribute("visible",!1),clearInterval(this.cursorInterval),void(this.cursorInterval=null))},isFocused:!1,focus:function(t){this.isFocused||(this.isFocused=!0,this.cursor.setAttribute("visible",!0),this.blink(),o.emit(this.el,"focus"),t||o.emit(document.body,"didfocusinput",this.el))},blur:function(t){this.isFocused&&(this.isFocused=!1,this.cursorInterval&&(clearInterval(this.cursorInterval),this.cursorInterval=null),this.cursor.setAttribute("visible",!1),o.emit(this.el,"blur"),t||o.emit(document.body,"didblurinput",this.el))},appendString:function(t){if("\n"===t)return this.blur();var e=this.el.getAttribute("value");e||(e=""),e+=t,this.el.setAttribute("value",e),o.emit(this.el,"change",e)},deleteLast:function(){var t=this.el.getAttribute("value");t||(t=""),t=t.slice(0,-1),this.el.setAttribute("value",t),o.emit(this.el,"change",t)},updateText:function(){function t(o,s,n,r){if(!o.object3D||!o.object3D.children||!o.object3D.children[0])return 0;var l=o.object3D.children[0].geometry.visibleGlyphs;if(!l)return 0;if(l=l[l.length-1],!l)return 0;if(l.line)return n?s.value=s.value.substr(1):s.value=s.value.slice(0,-1),o.setAttribute("text",s),t(o,s,n);r||(r=a.getWidthFactor(o,s.wrapCount)),l=(l.position[0]+l.data.width)/(r/e.data.width);var u=(l+i.left+i.right)/e.data.width;return u>1?(n?s.value=s.value.substr(1):s.value=s.value.slice(0,-1),o.setAttribute("text",s),t(o,s,n,r)):l}var e=this,i={left:.021,right:.021},o={color:this.data.color,align:this.data.align,side:this.data.side,tabSize:this.data.tabSize,wrapCount:24*this.data.width,width:this.data.width},s=this.text.getAttribute("text");s&&this.data.value!==s.value&&(this.cursorInterval&&(clearInterval(this.cursorInterval),this.cursorInterval=null),this.cursorTimer&&(clearTimeout(this.cursorTimer),this.cursorTimer=null),this.cursor.setAttribute("visible",!0),this.cursorTimer=setTimeout(function(){e.blink()},50)),this.data.maxLength?(o.value=this.data.value.substring(0,this.data.maxLength),this.el.setAttribute("value",o.value)):o.value=this.data.value,"password"===this.data.type&&(o.value="*".repeat(this.data.value.length)),this.data.font.length&&(o.font=this.data.font),this.data.letterSpacing&&(o.letterSpacing=this.data.letterSpacing),this.data.lineHeight.length&&(o.lineHeight=this.data.lineHeight),this.text.setAttribute("visible",!1),this.text.setAttribute("text",o),o.value.length?this.placeholder.setAttribute("visible",!1):this.placeholder.setAttribute("visible",!0);var n=a.clone(o);n.value=this.data.placeholder,n.color=this.data.placeholderColor,this.placeholder.setAttribute("text",n),setTimeout(function(){if(e.text.object3D){var a=e.text.object3D.children;if(a[0]&&a[0].geometry&&a[0].geometry.visibleGlyphs){var s=0;a[0].geometry.visibleGlyphs.length&&(s=t(e.text,o,!0),e.text.setAttribute("visible",!0)),e.cursor.setAttribute("position",s+i.left+" 0 0.003")}else e.cursor.setAttribute("position",i.left+" 0 0.003")}else e.cursor.setAttribute("position",i.left+" 0 0.003");t(e.placeholder,n)},0),this.background.setAttribute("color",this.data.backgroundColor),this.background.setAttribute("width",this.data.width),this.background.setAttribute("position","0 -0.09 0.001"),this.text.setAttribute("position",i.left-.001+this.data.width/2+" 0 0.002"),this.placeholder.setAttribute("position",i.left-.001+this.data.width/2+" 0 0.002")},updateCursor:function(){this.cursor.setAttribute("width",this.data.cursorWidth),this.cursor.setAttribute("height",this.data.cursorHeight),this.cursor.setAttribute("color",this.data.cursorColor)},update:function(){setTimeout(function(){},0),this.updateCursor(),this.updateText()}}),AFRAME.registerPrimitive("a-input",{defaultComponents:{input:{}},mappings:{value:"input.value",name:"input.name",disabled:"input.disabled",color:"input.color",align:"input.align",font:"input.font","letter-spacing":"input.letterSpacing","line-height":"input.lineHeight",opacity:"input.opacity",side:"input.side","tab-size":"input.tabSize",placeholder:"input.placeholder","placeholder-color":"input.placeholderColor","max-length":"input.maxLength",type:"input.type",width:"input.width","cursor-width":"input.cursorWidth","cursor-height":"input.cursorHeight","cursor-color":"input.cursorColor","background-color":"input.backgroundColor","background-opacity":"input.backgroundOpacity"}})},function(t,e,i){"use strict";var a=i(4),o=i(10),s=i(15),n=i(16);AFRAME.registerComponent("switch",{schema:{name:{type:"string",default:""},enabled:{type:"boolean",default:!1},disabled:{type:"boolean",default:!1},fillColor:{type:"color",default:"#bababa"},knobColor:{type:"color",default:"#f5f5f5"},fillColorEnabled:{type:"color",default:"#80a8ff"},knobColorEnabled:{type:"color",default:"#4076fd"},fillColorDisabled:{type:"color",default:"#939393"},knobColorDisabled:{type:"color",default:"#a2a2a2"}},init:function(){a.preloadAssets(s),n.init(this.el),this.el.fill=document.createElement("a-rounded"),this.el.fill.setAttribute("width",.36),this.el.fill.setAttribute("height",.16),this.el.fill.setAttribute("radius",.08),this.el.fill.setAttribute("side","double"),this.el.fill.setAttribute("position","0 0 0.01"),this.el.appendChild(this.el.fill),this.el.knob=document.createElement("a-circle"),this.el.knob.setAttribute("position","0.06 0.08 0.02"),this.el.knob.setAttribute("radius",.12),this.el.knob.setAttribute("side","double"),this.el.appendChild(this.el.knob),this.el.shadow_el=document.createElement("a-image"),this.el.shadow_el.setAttribute("width",.3),this.el.shadow_el.setAttribute("height",.3),this.el.shadow_el.setAttribute("position","0 0 -0.001"),this.el.shadow_el.setAttribute("src","#aframeSwitchShadow"),this.el.knob.appendChild(this.el.shadow_el),this.el.addEventListener("click",function(){this.components.switch.data.disabled||(this.setAttribute("enabled",!this.components.switch.data.enabled),o.emit(this,"change",this.components.switch.data.enabled))}),this.el.addEventListener("mousedown",function(){return this.components.switch.data.disabled?n.clickDisabled(this):void n.click(this)}),Object.defineProperty(this.el,"enabled",{get:function(){return this.getAttribute("enabled")},set:function(t){this.setAttribute("enabled",t)},enumerable:!0,configurable:!0})},on:function(){this.el.fill.setAttribute("color",this.data.fillColorEnabled),this.el.knob.setAttribute("position","0.32 0.08 0.02"),this.el.knob.setAttribute("color",this.data.knobColorEnabled)},off:function(){this.el.fill.setAttribute("color",this.data.fillColor),this.el.knob.setAttribute("position","0.06 0.08 0.02"),this.el.knob.setAttribute("color",this.data.knobColor)},disable:function(){this.el.fill.setAttribute("color",this.data.fillColorDisabled),this.el.knob.setAttribute("color",this.data.knobColorDisabled)},update:function(){this.data.enabled?this.on():this.off(),this.data.disabled&&this.disable()}}),AFRAME.registerPrimitive("a-switch",{defaultComponents:{switch:{}},mappings:{name:"switch.name",enabled:"switch.enabled",disabled:"switch.disabled","fill-color":"switch.fillColor","knob-color":"switch.knobColor","fill-color-enabled":"switch.fillColorEnabled","knob-color-enabled":"switch.knobColorEnabled","fill-color-disabled":"switch.fillColorDisabled","knob-color-disabled":"switch.knobColorDisabled"}})},function(t,e){"use strict";t.exports=[{type:"img",id:"aframeSwitchShadow",src:AFRAME.ASSETS_PATH+"/images/SwitchShadow.png"},{type:"audio",id:"aframeSwitchClick",src:AFRAME.ASSETS_PATH+"/sounds/InputClick.mp3"},{type:"audio",id:"aframeSwitchClickDisabled",src:AFRAME.ASSETS_PATH+"/sounds/ButtonClickDisabled.mp3"}]},function(t,e){"use strict";var i={init:function(t){var e=document.createElement("a-sound");e.setAttribute("key","aframeSwitchClickSound"),e.setAttribute("sfx",!0),e.setAttribute("src","#aframeSwitchClick"),e.setAttribute("position","0 2 5"),t.appendChild(e),e=document.createElement("a-sound"),e.setAttribute("key","aframeSwitchClickDisabledSound"),e.setAttribute("sfx",!0),e.setAttribute("src","#aframeSwitchClickDisabled"),e.setAttribute("position","0 2 5"),t.appendChild(e)},click:function(t){var e=t.querySelector("[key=aframeSwitchClickSound]");e&&(e.components.sound.stopSound(),e.components.sound.playSound())},clickDisabled:function(t){var e=t.querySelector("[key=aframeSwitchClickDisabledSound]");
e&&(e.components.sound.stopSound(),e.components.sound.playSound())}};t.exports=i},function(t,e,i){"use strict";i(4),i(10);AFRAME.registerComponent("form",{schema:{},init:function(){}}),AFRAME.registerPrimitive("a-form",{defaultComponents:{form:{}},mappings:{}})},function(t,e,i){"use strict";var a=i(4),o=i(10),s=i(19),n=i(20);AFRAME.registerComponent("radio",{schema:{checked:{type:"boolean",default:!1},disabled:{type:"boolean",default:!1},name:{type:"string",default:""},value:{type:"string",default:""},label:{type:"string",default:""},radioColor:{type:"color",default:"#757575"},radioColorChecked:{type:"color",default:"#4076fd"},color:{type:"color",default:"#757575"},font:{type:"string",default:""},letterSpacing:{type:"int",default:0},lineHeight:{type:"string",default:""},opacity:{type:"number",default:1},width:{type:"number",default:1}},init:function(){var t=this;a.preloadAssets(s),n.init(this.el),this.hitbox=document.createElement("a-plane"),this.hitbox.setAttribute("height",.2),this.hitbox.setAttribute("opacity",0),this.hitbox.setAttribute("position","0 0 0.001"),this.el.appendChild(this.hitbox),this.outline=document.createElement("a-ring"),this.outline.setAttribute("radius-outer",.1),this.outline.setAttribute("radius-inner",.078),this.outline.setAttribute("position","0.1 0 0.002"),this.el.appendChild(this.outline),this.circle=document.createElement("a-circle"),this.circle.setAttribute("radius",.05),this.circle.setAttribute("position","0.1 0 0.002"),this.el.appendChild(this.circle),this.label=document.createElement("a-entity"),this.el.appendChild(this.label),this.el.addEventListener("click",function(){this.components.radio.data.disabled||(this.setAttribute("checked",!0),t.onClick())}),this.el.addEventListener("mousedown",function(){return this.components.radio.data.disabled?n.clickDisabled(this):void n.click(this)}),Object.defineProperty(this.el,"value",{get:function(){return this.getAttribute("value")},set:function(t){this.setAttribute("value",t)},enumerable:!0,configurable:!0})},onClick:function(t){if(this.data.name){var e=this.el.closest("a-form");if(e){var i=!1,a=Array.from(e.querySelectorAll("[name="+this.data.name+"]"));a.reverse();var s=!0,n=!1,r=void 0;try{for(var l,u=a[Symbol.iterator]();!(s=(l=u.next()).done);s=!0){var d=l.value;d.components.radio&&(d===this.el&&d.hasAttribute("checked")?(i=!0,d.components.radio.check(),t||o.emit(d,"change",!0)):i||this.data.checked||!d.hasAttribute("checked")?d.components.radio.uncheck():(i=!0,d.components.radio.check()))}}catch(t){n=!0,r=t}finally{try{!s&&u.return&&u.return()}finally{if(n)throw r}}!i&&this.el.hasAttribute("checked")&&(this.check(),t||o.emit(this.el,"change",!0))}}},check:function(){this.outline.setAttribute("color",this.data.radioColorChecked),this.circle.setAttribute("color",this.data.radioColorChecked),this.circle.setAttribute("visible",!0),this.data.disabled&&this.disabled()},uncheck:function(){this.outline.setAttribute("color",this.data.radioColor),this.circle.setAttribute("visible",!1),this.data.disabled&&this.disabled()},disabled:function(){this.outline.setAttribute("color",this.data.radioColor),this.circle.setAttribute("color",this.data.radioColor)},update:function(){function t(o,s){if(!o.object3D||!o.object3D.children||!o.object3D.children[0])return 0;var n=o.object3D.children[0].geometry.visibleGlyphs;if(!n)return 0;if(n=n[n.length-1],!n)return 0;if(n.line)return i.value=i.value.slice(0,-1),o.setAttribute("text",i),t(o);s||(s=a.getWidthFactor(o,i.wrapCount)),n=(n.position[0]+n.data.width)/(s/e.data.width);var r=n/e.data.width;return r>1?(i.value=i.value.slice(0,-1),o.setAttribute("text",i),t(o,s)):n}var e=this;this.onClick(!0),this.hitbox.setAttribute("width",this.data.width),this.hitbox.setAttribute("position",this.data.width/2+" 0 0.001");var i={color:this.data.color,align:"left",wrapCount:10*(this.data.width+.2),width:this.data.width};this.data.font&&(i.font=this.data.font),i.value=this.data.label,i.color=this.data.color,this.label.setAttribute("text",i),this.label.setAttribute("position",this.data.width/2+.24+" 0 0.002"),setTimeout(function(){if(e.data.label.length&&t(e.label),e.data.disabled)var i=setInterval(function(){e.outline.object3D.children[0]&&(clearInterval(i),a.updateOpacity(e.outline,.4),a.updateOpacity(e.circle,.4),a.updateOpacity(e.label,.4))},10);else var o=setInterval(function(){e.outline.object3D.children[0]&&(clearInterval(o),a.updateOpacity(e.outline,1),a.updateOpacity(e.circle,1),a.updateOpacity(e.label,1))},10)},0)}}),AFRAME.registerPrimitive("a-radio",{defaultComponents:{radio:{}},mappings:{checked:"radio.checked",disabled:"radio.disabled",name:"radio.name",value:"radio.value",label:"radio.label","radio-color":"radio.radioColor","radio-color-checked":"radio.radioColorChecked",color:"radio.color",align:"radio.align",font:"radio.font","letter-spacing":"radio.letterSpacing","line-height":"radio.lineHeight",opacity:"radio.opacity",width:"radio.width"}})},function(t,e){"use strict";t.exports=[{type:"audio",id:"aframeRadioClick",src:AFRAME.ASSETS_PATH+"/sounds/InputClick.mp3"},{type:"audio",id:"aframeRadioClickDisabled",src:AFRAME.ASSETS_PATH+"/sounds/ButtonClickDisabled.mp3"}]},function(t,e){"use strict";var i={init:function(t){var e=document.createElement("a-sound");e.setAttribute("key","aframeRadioClickSound"),e.setAttribute("sfx",!0),e.setAttribute("src","#aframeRadioClick"),e.setAttribute("position","0 2 5"),t.appendChild(e),e=document.createElement("a-sound"),e.setAttribute("key","aframeRadioClickDisabledSound"),e.setAttribute("sfx",!0),e.setAttribute("src","#aframeRadioClickDisabled"),e.setAttribute("position","0 2 5"),t.appendChild(e)},click:function(t){var e=t.querySelector("[key=aframeRadioClickSound]");e&&(e.components.sound.stopSound(),e.components.sound.playSound())},clickDisabled:function(t){var e=t.querySelector("[key=aframeRadioClickDisabledSound]");e&&(e.components.sound.stopSound(),e.components.sound.playSound())}};t.exports=i},function(t,e,i){"use strict";var a=i(4),o=i(10),s=i(22),n=i(23);AFRAME.registerComponent("checkbox",{schema:{checked:{type:"boolean",default:!1},disabled:{type:"boolean",default:!1},name:{type:"string",default:""},value:{type:"string",default:""},label:{type:"string",default:""},checkboxColor:{type:"color",default:"#757575"},checkboxColorChecked:{type:"color",default:"#4076fd"},color:{type:"color",default:"#757575"},font:{type:"string",default:""},letterSpacing:{type:"int",default:0},lineHeight:{type:"string",default:""},opacity:{type:"number",default:1},width:{type:"number",default:1}},init:function(){var t=this;a.preloadAssets(s),n.init(this.el),this.hitbox=document.createElement("a-plane"),this.hitbox.setAttribute("height",.2),this.hitbox.setAttribute("opacity",0),this.el.appendChild(this.hitbox),this.outline=document.createElement("a-rounded"),this.outline.setAttribute("width",.2),this.outline.setAttribute("height",.2),this.outline.setAttribute("radius",.02),this.outline.setAttribute("position","0 -0.1 0.01"),this.el.appendChild(this.outline),this.inside=document.createElement("a-rounded"),this.inside.setAttribute("width",.156),this.inside.setAttribute("height",.156),this.inside.setAttribute("radius",.01),this.inside.setAttribute("color","#EEE"),this.inside.setAttribute("position","0.0195 -0.078 0.02"),this.el.appendChild(this.inside),this.checkmark=document.createElement("a-image"),this.checkmark.setAttribute("width",.16),this.checkmark.setAttribute("height",.16),this.checkmark.setAttribute("src","#aframeCheckboxMark"),this.checkmark.setAttribute("position","0.1 0 0.03"),this.el.appendChild(this.checkmark),this.label=document.createElement("a-entity"),this.el.appendChild(this.label),this.el.addEventListener("click",function(){this.components.checkbox.data.disabled||(this.components.checkbox.data.checked=!this.components.checkbox.data.checked,this.setAttribute("checked",this.components.checkbox.data.checked),t.onClick())}),this.el.addEventListener("mousedown",function(){return this.components.checkbox.data.disabled?n.clickDisabled(this):void n.click(this)}),Object.defineProperty(this.el,"value",{get:function(){return this.getAttribute("value")},set:function(t){this.setAttribute("value",t)},enumerable:!0,configurable:!0})},onClick:function(t){this.data.checked?this.check():this.uncheck(),t||o.emit(this.el,"change",this.data.checked)},check:function(){this.outline.setAttribute("color",this.data.checkboxColorChecked),this.inside.setAttribute("color",this.data.checkboxColorChecked),this.checkmark.setAttribute("visible",!0),this.data.disabled&&this.disabled()},uncheck:function(){this.outline.setAttribute("color",this.data.checkboxColor),this.inside.setAttribute("color","#EEE"),this.checkmark.setAttribute("visible",!1),this.data.disabled&&this.disabled()},disabled:function(){this.outline.setAttribute("color",this.data.checkboxColor),this.inside.setAttribute("color",this.data.checkboxColor)},update:function(){function t(o,s){if(!o.object3D||!o.object3D.children||!o.object3D.children[0])return 0;var n=o.object3D.children[0].geometry.visibleGlyphs;if(!n)return 0;if(n=n[n.length-1],!n)return 0;if(n.line)return i.value=i.value.slice(0,-1),o.setAttribute("text",i),t(o);s||(s=a.getWidthFactor(o,i.wrapCount)),n=(n.position[0]+n.data.width)/(s/e.data.width);var r=n/e.data.width;return r>1?(i.value=i.value.slice(0,-1),o.setAttribute("text",i),t(o,s)):n}var e=this;this.onClick(!0),this.hitbox.setAttribute("width",this.data.width),this.hitbox.setAttribute("position",this.data.width/2+" 0 0.01");var i={color:this.data.color,align:"left",wrapCount:10*(this.data.width+.2),width:this.data.width};this.data.font&&(i.font=this.data.font),i.value=this.data.label,i.color=this.data.color,this.label.setAttribute("text",i),this.label.setAttribute("position",this.data.width/2+.24+" 0 0.01"),setTimeout(function(){if(e.data.label.length&&t(e.label),e.data.disabled)var i=setInterval(function(){e.checkmark.object3D.children[0]&&(clearInterval(i),a.updateOpacity(e.checkmark,.4),a.updateOpacity(e.label,.4))},10);else var o=setInterval(function(){e.checkmark.object3D.children[0]&&(clearInterval(o),a.updateOpacity(e.checkmark,1),a.updateOpacity(e.label,1))},10)},0)}}),AFRAME.registerPrimitive("a-checkbox",{defaultComponents:{checkbox:{}},mappings:{checked:"checkbox.checked",disabled:"checkbox.disabled",name:"checkbox.name",value:"checkbox.value",label:"checkbox.label","checkbox-color":"checkbox.checkboxColor","checkbox-color-checked":"checkbox.checkboxColorChecked",color:"checkbox.color",align:"checkbox.align",font:"checkbox.font","letter-spacing":"checkbox.letterSpacing","line-height":"checkbox.lineHeight",opacity:"checkbox.opacity",width:"checkbox.width"}})},function(t,e){"use strict";t.exports=[{type:"img",id:"aframeCheckboxMark",src:AFRAME.ASSETS_PATH+"/images/CheckmarkIcon.png"},{type:"audio",id:"aframeCheckboxClick",src:AFRAME.ASSETS_PATH+"/sounds/InputClick.mp3"},{type:"audio",id:"aframeCheckboxClickDisabled",src:AFRAME.ASSETS_PATH+"/sounds/ButtonClickDisabled.mp3"}]},function(t,e){"use strict";var i={init:function(t){var e=document.createElement("a-sound");e.setAttribute("key","aframeCheckboxClickSound"),e.setAttribute("sfx",!0),e.setAttribute("src","#aframeCheckboxClick"),e.setAttribute("position","0 2 5"),t.appendChild(e),e=document.createElement("a-sound"),e.setAttribute("key","aframeButtonClickDisabledSound"),e.setAttribute("sfx",!0),e.setAttribute("src","#aframeButtonClickDisabled"),e.setAttribute("position","0 2 5"),t.appendChild(e)},click:function(t){var e=t.querySelector("[key=aframeCheckboxClickSound]");e&&(e.components.sound.stopSound(),e.components.sound.playSound())},clickDisabled:function(t){var e=t.querySelector("[key=aframeButtonClickDisabledSound]");e&&(e.components.sound.stopSound(),e.components.sound.playSound())}};t.exports=i},function(t,e,i){"use strict";var a=i(4),o=i(10),s=i(25),n=i(26);AFRAME.registerComponent("button",{schema:{disabled:{type:"boolean",default:!1},type:{type:"string",default:"raised"},name:{type:"string",default:""},value:{type:"string",default:"Button"},buttonColor:{type:"color",default:"#4076fd"},color:{type:"color",default:"#FFF"},font:{type:"string",default:""},letterSpacing:{type:"int",default:0},lineHeight:{type:"string",default:""},opacity:{type:"number",default:1},width:{type:"number",default:1}},init:function(){var t=this;a.preloadAssets(s),n.init(this.el),this.wrapper=document.createElement("a-entity"),this.wrapper.setAttribute("position","0 0 0.01"),this.el.appendChild(this.wrapper),this.shadow=document.createElement("a-image"),this.shadow.setAttribute("height",.36*1.25),this.shadow.setAttribute("src","#aframeButtonShadow"),this.wrapper.appendChild(this.shadow),this.outline=document.createElement("a-rounded"),this.outline.setAttribute("height",.36),this.outline.setAttribute("radius",.03),this.outline.setAttribute("position","0 -0.18 0.01"),this.wrapper.appendChild(this.outline),this.label=document.createElement("a-entity"),this.outline.appendChild(this.label),this.el.addEventListener("click",function(){this.components.button&&this.components.button.data.disabled||t.onClick()}),this.el.addEventListener("mousedown",function(){return this.components.button&&this.components.button.data.disabled?n.clickDisabled(this):(t.wrapper.setAttribute("position","0 0 0.036"),void n.click(this))}),this.el.addEventListener("mouseup",function(){this.components.button&&this.components.button.data.disabled||t.wrapper.setAttribute("position","0 0 0")}),this.el.getWidth=this.getWidth.bind(this),Object.defineProperty(this.el,"value",{get:function(){return this.getAttribute("value")},set:function(t){this.setAttribute("value",t)},enumerable:!0,configurable:!0})},getWidth:function(){return this.__width},update:function(){function t(o,s,n){if(!o.object3D||!o.object3D.children||!o.object3D.children[0])return setTimeout(function(){t(o,s)},10);var r=o.object3D.children[0].geometry.visibleGlyphs;if(!r)return setTimeout(function(){t(o,s)},10);if(r=r[r.length-1],!r)return s(0);if(r.line)return i.value=i.value.slice(0,-1),o.setAttribute("text",i),t(o,s);n||(n=a.getWidthFactor(o,i.wrapCount)),r=(r.position[0]+r.data.width)/(n/e.data.width);var l=r/e.data.width;return l>1?(i.value=i.value.slice(0,-1),o.setAttribute("text",i),t(o,s,n)):s(r)}var e=this;this.outline.setAttribute("color",this.data.buttonColor);var i={color:this.data.color,align:"center",wrapCount:10*this.data.width,width:this.data.width};this.data.font&&(i.font=this.data.font),"flat"===this.data.type&&(i.color=this.data.buttonColor),i.value=this.data.value.toUpperCase(),this.label.setAttribute("text",i),this.label.setAttribute("position",this.data.width/2+.24+" 0 0.01"),setTimeout(function(){if(e.data.value.length&&t(e.label,function(t){e.label.setAttribute("position",t/2+.14+" 0.18 0.02"),t+=.28,e.outline.setAttribute("width",t),e.__width=t,e.shadow.setAttribute("width",1.17*t),e.shadow.setAttribute("position",t/2+" 0 0"),o.emit(e.el,"change:width",t)}),e.data.disabled){e.shadow.setAttribute("visible",!1);var i=setInterval(function(){e.label.object3D.children[0]&&e.label.object3D.children[0].geometry.visibleGlyphs&&(clearInterval(i),a.updateOpacity(e.el,.4))},10)}else var s=setInterval(function(){e.label.object3D.children[0]&&e.label.object3D.children[0].geometry.visibleGlyphs&&(clearInterval(s),a.updateOpacity(e.el,1))},10);if("flat"===e.data.type){e.shadow.setAttribute("visible",!1);var n=setInterval(function(){e.label.object3D.children[0]&&e.label.object3D.children[0].geometry.visibleGlyphs&&(clearInterval(n),a.updateOpacity(e.outline,0),e.data.disabled&&a.updateOpacity(e.label,.4))},10)}},0)}}),AFRAME.registerPrimitive("a-button",{defaultComponents:{button:{}},mappings:{disabled:"button.disabled",type:"button.type",name:"button.name",value:"button.value","button-color":"button.buttonColor",color:"button.color",font:"button.font","letter-spacing":"button.letterSpacing","line-height":"button.lineHeight",opacity:"button.opacity",width:"button.width"}})},function(t,e){"use strict";t.exports=[{type:"img",id:"aframeButtonShadow",src:AFRAME.ASSETS_PATH+"/images/ButtonShadow.png"},{type:"audio",id:"aframeButtonClick",src:AFRAME.ASSETS_PATH+"/sounds/ButtonClick.mp3"},{type:"audio",id:"aframeButtonClickDisabled",src:AFRAME.ASSETS_PATH+"/sounds/ButtonClickDisabled.mp3"}]},function(t,e){"use strict";var i={init:function(t){var e=document.createElement("a-sound");e.setAttribute("key","aframeButtonClickSound"),e.setAttribute("sfx",!0),e.setAttribute("src","#aframeButtonClick"),e.setAttribute("position","0 2 5"),t.appendChild(e),e=document.createElement("a-sound"),e.setAttribute("key","aframeButtonClickDisabledSound"),e.setAttribute("sfx",!0),e.setAttribute("src","#aframeButtonClickDisabled"),e.setAttribute("position","0 2 5"),t.appendChild(e)},click:function(t){var e=t.querySelector("[key=aframeButtonClickSound]");e&&(e.components.sound.stopSound(),e.components.sound.playSound())},clickDisabled:function(t){var e=t.querySelector("[key=aframeButtonClickDisabledSound]");e&&(e.components.sound.stopSound(),e.components.sound.playSound())}};t.exports=i}]);
//# sourceMappingURL=aframe-material.min.js.map